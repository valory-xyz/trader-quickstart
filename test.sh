

test1() {

    echo "from test 1"
    return 2
}




echo "start"
output=$(test1)
echo "returned $output"

echo "...."

service_info="+---------------------------+----------------------------------------------+
|         Property          |                    Value                     |
+===========================+==============================================+
| Service State             | TERMINATED_BONDED                            |
+---------------------------+----------------------------------------------+
| Security Deposit          | 1.000e+16                                    |
+---------------------------+----------------------------------------------+
| Multisig Address          | 0x7Bce37E71d9800a0723f84b5940572714c9Dd6Fe   |
+---------------------------+----------------------------------------------+
| Cannonical Agents         | 12                                           |
+---------------------------+----------------------------------------------+
| Max Agents                | 1                                            |
+---------------------------+----------------------------------------------+
| Threshold                 | 1                                            |
+---------------------------+----------------------------------------------+
| Number Of Agent Instances | 1                                            |
+---------------------------+----------------------------------------------+
| Registered Instances      | - 0x0000000000000000000000000000000000000000 |
+---------------------------+----------------------------------------------+"

state="$(echo "$service_info" | sed -n 's/Service State[ \t]*|[ \t]*\([^ ]*\).*/\1/p')"
echo "--$state--"
state="$(echo "$service_info" | awk '/Service State/ {sub(/\|[ \t]*Service State[ \t]*\|[ \t]*/, ""); sub(/[ \t]*\|[ \t]*/, ""); print}')"
echo "--$state--"

state="$(echo "$service_info" | awk -F'|' '/Service State/ {print $2}')"
echo "--$state--"